@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}


<hr>
<section class="content pt-3 pl-3 pr-3">
    <p>
        <a asp-action="index" asp-controller="Dashboard" class="btn btn-success"> Comportamiento de ventas</a>

        <a asp-action="gpastel" asp-controller="Dashboard" class="btn btn-success"> Comportamiento de servicios</a>

        <a asp-action="barras" asp-controller="Dashboard" class="btn btn-success"> Comportamiento de clientes</a>
    </p>
    @*<div class="row">        
        <div class="form-group col-xs-4 pl-2 pr-4">
            <input type="text" name="daterange" value="01/01/2022 - 01/15/2018" />
        </div>
    </div>*@
</section>
<div id="container"></div>

@section Scripts{
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/data.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>



    @*<script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />*@



    <script>
        //$(function () {
        //    $('input[name="daterange"]').daterangepicker({
        //        opens: 'right'
        //    }, function (start, end, label) {
        //        console.log("A new date selection was made: " + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD'));
        //    });
        //});

        var citasConfirmadas = @ViewBag.citasConfirmadas;
        var citasEnCurso = @ViewBag.citasEnCurso;
        var citasFinalizadas = @ViewBag.VentasFinalizadas;
        var citasCanceladas = @ViewBag.VentasCanceladas;

        Highcharts.chart('container', {
            chart: {
                plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false,
                type: 'pie'
            },
            title: {
                text: 'Citas finalizadas Vs. Citas canceladas'
            },
            tooltip: {
                pointFormat: '{series.name}: <b>{point.y}<b></b><b>/</b><b></b>{point.percentage:.1f}%</b>'
            },
            accessibility: {
                point: {
                    valueSuffix: '%'
                }
            },
            plotOptions: {
                pie: {
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: false
                    },
                    showInLegend: true
                }
            },
            series: [{
                name: 'Datos',
                colorByPoint: true,
                data: [{
                    name: 'Citas finalizadas',
                    y: citasFinalizadas,
                    sliced: true,
                    selected: true
                }, {
                    name: 'Citas canceladas',
                    y: citasCanceladas
                }, {
                    name: 'Citas confirmadas',
                        y: citasConfirmadas
                }, {
                    name: 'Citas en curso',
                    y: citasEnCurso
                }]
            }]
        });
    </script>

}